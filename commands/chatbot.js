NIROSHAN
const _0x4daaf8=_0x59b8;(function(_0x8c420b,_0x1e6d11){const _0xe92fe5=_0x59b8,_0x4cf854=_0x8c420b();while(!![]){try{const _0x567f72=-parseInt(_0xe92fe5(0x1fc))/0x1*(parseInt(_0xe92fe5(0x214))/0x2)+parseInt(_0xe92fe5(0x20b))/0x3+-parseInt(_0xe92fe5(0x1e3))/0x4+-parseInt(_0xe92fe5(0x1f7))/0x5*(parseInt(_0xe92fe5(0x1f9))/0x6)+parseInt(_0xe92fe5(0x1e0))/0x7+-parseInt(_0xe92fe5(0x210))/0x8+parseInt(_0xe92fe5(0x1f0))/0x9;if(_0x567f72===_0x1e6d11)break;else _0x4cf854['push'](_0x4cf854['shift']());}catch(_0x38650e){_0x4cf854['push'](_0x4cf854['shift']());}}}(_0x51e1,0x428fc));const {setChatbot,getChatbot,removeChatbot}=require(_0x4daaf8(0x1ef)),fetch=require(_0x4daaf8(0x20d)),fs=require('fs'),path=require(_0x4daaf8(0x1de));function _0x51e1(){const _0x203432=['8wRxGlq','path','@s.whatsapp.net','984725vCstgg','GSLQr','*Chatbot\x20has\x20been\x20enabled\x20for\x20this\x20group*','2013216KPUGiH','UlslE','OLavU','Sorry,\x20I\x20encountered\x20an\x20error\x20while\x20processing\x20your\x20message.','join','*Chatbot\x20is\x20already\x20enabled\x20for\x20this\x20group*','message','result','API\x20call\x20failed','status','Getting\x20GPT-3\x20response\x20for:','stringify','../sql','15494418JdSYBq','Starting\x20chatbot\x20response\x20handler','https://api.yanzbotz.live/api/ai/gpt3','✅\x20Chatbot\x20responded\x20in\x20group\x20','Bot\x20Number:','trim','User\x20Message:','245775iwsmxY','❌\x20Error\x20loading\x20chatbot\x20config:','36GpKymx','system','sendMessage','87334BDCnAa','Message\x20is\x20a\x20reply\x20with\x20mention:','xhOJC','mentionedJid','✅\x20Chatbot\x20settings\x20updated\x20for\x20group\x20','enabled','fCcfx','TRaZB','Bot\x20not\x20mentioned\x20or\x20replied\x20to','readFileSync','contextInfo','log','Chat\x20ID:','xmjnQ','some','234534MhCkcB','pMsJR','node-fetch','extendedTextMessage','*Chatbot\x20is\x20already\x20disabled\x20for\x20this\x20group*','4161992TZaGuH','application/json','fvQqF','split'];_0x51e1=function(){return _0x203432;};return _0x51e1();}function loadChatbotConfig(_0x48e77b){const _0x1a3c42=_0x4daaf8,_0x45c4fc={'pMsJR':_0x1a3c42(0x1f8)};try{const _0x1e7e36=path[_0x1a3c42(0x1e7)](__dirname,'../data/chatbot.json');if(!fs['existsSync'](_0x1e7e36))return null;const _0x3552c5=JSON['parse'](fs[_0x1a3c42(0x205)](_0x1e7e36));return _0x3552c5[_0x48e77b];}catch(_0x5dda4f){return console['error'](_0x45c4fc[_0x1a3c42(0x20c)],_0x5dda4f['message']),null;}}async function handleChatbotCommand(_0x3f4b06,_0x3d81b0,_0x2a9236,_0x45d92e){const _0x5485ef=_0x4daaf8,_0x3e947c={'xhOJC':function(_0x31cb5d,_0x1d6a28){return _0x31cb5d===_0x1d6a28;},'OLavU':_0x5485ef(0x1e8),'ivQcu':function(_0x459961,_0x518ea6){return _0x459961===_0x518ea6;},'TRaZB':function(_0x468314,_0x5ee80d){return _0x468314(_0x5ee80d);},'PReIy':_0x5485ef(0x20f),'KtPPi':'*Chatbot\x20has\x20been\x20disabled\x20for\x20this\x20group*'};if(!_0x45d92e)return _0x3f4b06['sendMessage'](_0x3d81b0,{'text':'*CHATBOT\x20SETUP*\x0a\x0a*.chatbot\x20on*\x0aEnable\x20chatbot\x0a\x0a*.chatbot\x20off*\x0aDisable\x20chatbot\x20in\x20this\x20group'});if(_0x3e947c[_0x5485ef(0x1fe)](_0x45d92e,'on')){const _0x5ccacb=await getChatbot(_0x3d81b0);if(_0x5ccacb?.[_0x5485ef(0x201)])return _0x3f4b06['sendMessage'](_0x3d81b0,{'text':_0x3e947c[_0x5485ef(0x1e5)]});return await setChatbot(_0x3d81b0,!![]),console[_0x5485ef(0x207)](_0x5485ef(0x200)+_0x3d81b0),_0x3f4b06[_0x5485ef(0x1fb)](_0x3d81b0,{'text':_0x5485ef(0x1e2)});}if(_0x3e947c['ivQcu'](_0x45d92e,'off')){const _0x5308d7=await _0x3e947c[_0x5485ef(0x203)](getChatbot,_0x3d81b0);if(!_0x5308d7?.[_0x5485ef(0x201)])return _0x3f4b06['sendMessage'](_0x3d81b0,{'text':_0x3e947c['PReIy']});return await removeChatbot(_0x3d81b0),console['log'](_0x5485ef(0x200)+_0x3d81b0),_0x3f4b06[_0x5485ef(0x1fb)](_0x3d81b0,{'text':_0x3e947c['KtPPi']});}return _0x3f4b06['sendMessage'](_0x3d81b0,{'text':'*Invalid\x20command.\x20Use\x20.chatbot\x20to\x20see\x20usage*'});}async function handleChatbotResponse(_0x51f015,_0x16d259,_0x34e9df,_0x35bc6f,_0x5c65c1){const _0x940814=_0x4daaf8,_0x4a0d10={'fvQqF':function(_0x1ed5bc,_0x479370){return _0x1ed5bc+_0x479370;},'fCcfx':_0x940814(0x1f4),'rbsnI':'GPT-3\x20Response:','ycofN':'❌\x20Error\x20in\x20chatbot\x20response:','VBTCA':_0x940814(0x1e6)},_0x28b7d2=loadChatbotConfig(_0x16d259);if(!_0x28b7d2?.['enabled'])return;try{console['log'](_0x940814(0x1f1)),console['log'](_0x940814(0x208),_0x16d259),console[_0x940814(0x207)](_0x940814(0x1f6),_0x35bc6f);const _0x4ab365=_0x4a0d10[_0x940814(0x212)](_0x51f015['user']['id'][_0x940814(0x213)](':')[0x0],_0x940814(0x1df));console['log'](_0x4a0d10[_0x940814(0x202)],_0x4ab365);let _0x811d2a=![],_0x1c5091=![];if(_0x34e9df[_0x940814(0x1e9)]?.[_0x940814(0x20e)]){const _0x592436=_0x34e9df['message'][_0x940814(0x20e)]['contextInfo']?.[_0x940814(0x1ff)]||[],_0x474d84=_0x34e9df['message'][_0x940814(0x20e)][_0x940814(0x206)]?.['participant'];_0x811d2a=_0x592436[_0x940814(0x20a)](_0x4162d3=>_0x4162d3===_0x4ab365),_0x1c5091=_0x474d84===_0x4ab365,console['log'](_0x940814(0x1fd),{'mentionedJid':_0x592436,'quotedParticipant':_0x474d84,'isBotMentioned':_0x811d2a,'isReplyToBot':_0x1c5091});}else _0x34e9df[_0x940814(0x1e9)]?.['conversation']&&(_0x811d2a=_0x35bc6f['includes']('@'+_0x4ab365['split']('@')[0x0]));if(!_0x811d2a&&!_0x1c5091){console[_0x940814(0x207)](_0x940814(0x204));return;}let _0x5bb5af=_0x35bc6f;_0x811d2a&&(_0x5bb5af=_0x5bb5af['replace'](new RegExp('@'+_0x4ab365[_0x940814(0x213)]('@')[0x0],'g'),'')[_0x940814(0x1f5)]());const _0x14380c=await getGPT3Response(_0x5bb5af||'hi');console[_0x940814(0x207)](_0x4a0d10['rbsnI'],_0x14380c);if(!_0x14380c){await _0x51f015['sendMessage'](_0x16d259,{'text':'I\x20couldn\x27t\x20process\x20your\x20request\x20at\x20the\x20moment.','quoted':_0x34e9df});return;}await _0x51f015['sendMessage'](_0x16d259,{'text':'@'+_0x5c65c1['split']('@')[0x0]+'\x20'+_0x14380c,'quoted':_0x34e9df,'mentions':[_0x5c65c1]}),console['log'](_0x940814(0x1f3)+_0x16d259);}catch(_0x57983f){console['error'](_0x4a0d10['ycofN'],_0x57983f[_0x940814(0x1e9)]),await _0x51f015['sendMessage'](_0x16d259,{'text':_0x4a0d10['VBTCA'],'quoted':_0x34e9df,'mentions':[_0x5c65c1]});}}function _0x59b8(_0x5b0a10,_0x1b2e4e){const _0x51e1e5=_0x51e1();return _0x59b8=function(_0x59b831,_0x29078d){_0x59b831=_0x59b831-0x1de;let _0x13b470=_0x51e1e5[_0x59b831];return _0x13b470;},_0x59b8(_0x5b0a10,_0x1b2e4e);}async function getGPT3Response(_0x36601f){const _0x710828=_0x4daaf8,_0x3f28cf={'zyRjs':'user','xmjnQ':function(_0x1ba4b7,_0x54ae52,_0x297bfd){return _0x1ba4b7(_0x54ae52,_0x297bfd);},'MxAVa':_0x710828(0x1f2),'UlslE':'POST','GSLQr':'application/json','YPeFe':'GPT-3\x20API\x20response:'};try{console['log'](_0x710828(0x1ed),_0x36601f);const _0x21a1aa={'role':_0x710828(0x1fa),'content':'You\x20are\x20KnightBot\x20CHATBOT,\x20an\x20intelligent\x20and\x20feature-rich\x20assistant.\x20Behave\x20like\x20human\x20and\x20talk\x20like\x20human.\x20Understand\x20how\x20sender\x20responds,\x20behaves\x20accordingly.\x20Enhance\x20your\x20responses\x20with\x20relevant\x20emojis\x20when\x20appropriate\x20while\x20maintaining\x20clarity\x20and\x20professionalism.'},_0x12eeea={'role':_0x3f28cf['zyRjs'],'content':_0x36601f},_0x5f373f=await _0x3f28cf[_0x710828(0x209)](fetch,_0x3f28cf['MxAVa'],{'method':_0x3f28cf[_0x710828(0x1e4)],'headers':{'Accept':_0x3f28cf[_0x710828(0x1e1)],'Content-Type':_0x710828(0x211)},'body':JSON[_0x710828(0x1ee)]({'messages':[_0x21a1aa,_0x12eeea]})});if(!_0x5f373f['ok']){console['error']('GPT-3\x20API\x20response\x20not\x20ok:',_0x5f373f[_0x710828(0x1ec)]);throw new Error(_0x710828(0x1eb));}const _0x4a792c=await _0x5f373f['json']();return console['log'](_0x3f28cf['YPeFe'],_0x4a792c),_0x4a792c[_0x710828(0x1ea)];}catch(_0x3d95cf){return console['error']('GPT-3\x20API\x20error:',_0x3d95cf),null;}}module['exports']={'handleChatbotCommand':handleChatbotCommand,'handleChatbotResponse':handleChatbotResponse};